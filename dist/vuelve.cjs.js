"use strict";const c=require("vue"),y=require("lodash.clonedeep"),p=t=>typeof t=="function",j=t=>Array.isArray(t);function E(t){return typeof t=="object"&&(t.type===void 0||typeof t.type=="function"||t.type===!0)&&(t.required===void 0||typeof t.required=="boolean")&&(t.default===void 0||typeof t.default=="function"||t.type!==!0&&typeof t.default===t.type.name.toLowerCase())}const O={mounted:c.onMounted,beforeUpdate:c.onBeforeUpdate,updated:c.onUpdated,beforeUnmount:c.onBeforeUnmount,unmounted:c.onUnmounted,errorCaptured:c.onErrorCaptured,renderTracked:c.onRenderTracked,renderTriggered:c.onRenderTriggered,activated:c.onActivated,deactivated:c.onDeactivated,serverPrefetch:c.onServerPrefetch};function m(t){return function(o){const u={},s={},a={},h={},d={};if(t.props){const r=j(t.props);(r?Object.values(t.props):Object.keys(t.props)).forEach(e=>{var i;if(r)o&&o[e]&&(u[e]=o[e]);else{const n=t.props[e];if(E(n)){if(o&&o[e]){if(!n.type||n.type===!0)u[e]=o[e];else if(typeof n.type=="function")if(n.type.name===o[e].constructor.name)u[e]=o[e];else throw new TypeError(`Invalid prop: type check failed for prop "${e}". Expected ${(i=n.type)==null?void 0:i.name}, got ${o[e].constructor.name}`)}else if(n.default){const w=p(n.default)?n.default():n.default;u[e]=w}else if(n.required)throw new Error(`${e} is required but not provided.`)}if(!E(n)&&o&&o[e])if(n.name===o[e].constructor.name)u[e]=o[e];else throw new TypeError(`Invalid prop: type check failed for prop "${e}". Expected ${n.name}, got ${o[e].constructor.name}`)}})}if(t.data&&p(t.data)){const r=t.data();Object.entries(r).forEach(([f,e])=>{let i;typeof e=="object"&&e!==null?i=c.reactive(e):i=c.ref(y(e)),s[f]=i})}return Object.assign(d,s,u),t.methods&&Object.entries(t.methods).forEach(([r,f])=>{a[r]=f.bind(d)}),Object.assign(d,a),Object.entries(O).forEach(([r,f])=>{const e=r;if(t[e]){const i=t[e];f((...n)=>i.apply(d,n))}}),t.watch&&Object.entries(t.watch).forEach(([r,f])=>{const e=f,i=d[r];i&&c.watch(i,e.bind(d))}),t.watchEffect&&Object.values(t.watchEffect).forEach(r=>{const f=r;c.watchEffect(f.bind(d))}),t.computed&&Object.keys(t.computed).forEach(r=>{const f=t.computed&&t.computed[r];f&&(h[r]=c.computed(f.bind(d)))}),{...u,...s,...a,...h}}}module.exports=m;
